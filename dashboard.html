<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Job Portal</title>
    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="stylesheet" href="css/site.min.css">
    <!--link rel="stylesheet" href="css/vertical_nav.css"-->
    <!--<link rel="stylesheet" href="css/drawer.css">-->
    <link rel="stylesheet" href="css/skylo.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800,700,400italic,600italic,700italic,800italic,300italic" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="js/site.min.js"></script>

    <script src="js/skylo.js"></script>

    <script src="js/angular.min.js"></script>

    <script src="js/ang/main.js"></script>

    <script src="js/ang/dashboard.js"></script>

</head>

<body ng-app="app" ng-controller="dashboard">

    <!--<input type="checkbox" id="drawer-toggle" name="drawer-toggle" />
    <label for="drawer-toggle" id="drawer-toggle-label"></label>
    <header>Header</header>
    <nav id="drawer">
        <ul>
            <li><a href="#" ng-click="showPostedJobs('open')">Posted Jobs&nbsp;&nbsp;&nbsp;<span class="label label-success compatLabel">{{profile.postedJobs.length}}</span></a></li>
            <li><a href="#" ng-click="showAppliedJobs('open')">Applied Jobs&nbsp;&nbsp;&nbsp;<span class="label label-success compatLabel">{{profile.appliedJobs.length}}</span></a></li>
            <li><a href="#" ng-click="showAvailableJobs('open')">Available Jobs&nbsp;&nbsp;&nbsp;<span class="label label-success compatLabel">{{profile.availableJobs.length}}</span></a></li>
            <li><a href="#" ng-click="showPosterInterests('open')">Your Interests&nbsp;&nbsp;&nbsp;<span class="label label-success compatLabel">{{profile.profileInterests.length}}</span></a></li>
            <li><a href="updateProfile.html">Your Profile&nbsp;&nbsp;&nbsp;</a></li>
            <li><a href="postJob.html">Post New Job&nbsp;&nbsp;&nbsp;</a></li>
        </ul>
    </nav>-->
    <!--<div id="page-content">-->
    <div class="container-fluid">
        <div ng-include="'header.html'"></div>

        <div class="row">

            <div class="row jobSection">
                <div class="col-md-3 col-md-offset-1 optionList">
                    <ul class="list-group">
                        <li class="list-group-item listMain" data-toggle="collapse" data-target="#poster"><span class="listSpan" style="float:right"></span>Job Poster&nbsp;&nbsp;&nbsp;&nbsp;<span class=""></span></li>
                        <div id="poster" class="collapse in">
                            <li class="list-group-item" ng-click="showPostedJobs('open')"><span class="badge badge-default">{{profile.postedJobs.length}}</span>Posted Jobs</li>
                            <li class="list-group-item" ng-click="showPosterInterests('open')"><span class="badge badge-primary">{{profile.profileInterests.length}}</span>My Candidates</li>
                            <li class="list-group-item" ng-click="showAcceptedCandidates('open')"><span class="badge badge-success">{{profile.acceptedProfiles.length}}</span>Accepted Candidates</li>
                            <a href="postJob.html"><li class="list-group-item">Post a New Job</li></a>
                        </div>
                    </ul>
                    <br/>
                    <ul class="list-group">
                        <li class="list-group-item listMain" data-toggle="collapse" data-target="#seeker"><span class="listSpan" style="float:right"></span>Job Seeker&nbsp;&nbsp;&nbsp;&nbsp;<span class=""></span></li>
                        <div id="seeker" class="collapse in">
                            <li class="list-group-item" ng-click="showAppliedJobs('open')"><span class="badge badge-default">{{profile.appliedJobs.length}}</span>Applied Jobs</li>
                            <li class="list-group-item" ng-click="showAvailableJobs('open')"><span class="badge badge-primary">{{profile.availableJobs.length}}</span>Available Jobs</li>
                            <li class="list-group-item" ng-click="showJobRequests()"><span class="badge badge-primary">{{profile.jobRequests.length}}</span>Job Requests</li>
                            <li class="list-group-item" ng-click="showAcceptedJobs()"><span class="badge badge-primary">{{profile.acceptedJobs.length}}</span>Accepted Job Requests</li>
                        </div>
                    </ul>
                </div>
                <div class="col-md-6">


                    <div class="row" ng-show="loading == true">
                        <div class="col-md-6 col-md-offset-3 progressSection">
                            <h4>Loading profile ..</h4>
                            <!--<div class="progress progress-striped active">
                                    <div class="progress-bar progress-bar-success myProgress" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                                        <span class="sr-only">40% Complete (success)</span>
                                    </div>
                                </div>-->
                        </div>
                    </div>

                    <div class="row" ng-show="profileError != null">
                        <div class="col-md-6 col-md-offset-3 text-center">
                            <div class="alert alert-danger">
                                <!--button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button-->
                                {{profileError}}
                            </div>
                        </div>
                    </div>


                    <h3>{{header}}</h3>
                    <div class="row" ng-repeat="job in postedJobs" class="panelRow">
                        <div class="col-md-12">
                            <div class="panel panel-default jobPanel">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h2 class="panel-title jobPanelTitle">{{job.jobTitle}}</h2>
                                            <!--<span class="glyphicon glyphicon-pencil myEditIcon" style="float:right"></span>-->
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <a ng-click="showMatchingProfiles(job)">Matching &nbsp; <span class="label label-success compatLabel">{{job.matchingCandidates.length}}</span></a>
                                        </div>
                                        <div class="col-md-3">
                                            <a ng-click="showAppliedCandidates(job)">Applications &nbsp;<span class="label label-success compatLabel">{{job.applications.length}}</span></a>
                                        </div>
                                        <div class="col-md-3">
                                            <a ng-click="showInterestCandidates(job)">My Interests &nbsp;<span class="label label-success compatLabel">{{job.interestCandidates.length}}</span></a>
                                        </div>
                                        <div class="col-md-3">
                                            <!--<span class="glyphicon glyphicon-pencil"></span>-->
                                        </div>
                                    </div>

                                    <p class="panel-title jobPanelSubTitle">{{job.companyName}}</p>
                                    <div class="row">
                                        <div class="col-md-4">
                                            {{job.location}}
                                        </div>
                                        <div class="col-md-4">
                                            {{job.experience}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <span class="badge" ng-repeat="skill in job.skillsRequired">{{skill.name}}</span>&nbsp;
                                            <!-- <span class="badge">Normal</span>&nbsp;
                                        <span class="badge">Normal</span>&nbsp;-->
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            {{job.description}}
                                        </div>
                                    </div>

                                </div>
                                <div class="panel-body jobPanelFooter">
                                    <div class="row">
                                        <div class="col-xs-2 col-md-4">
                                            Read More
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-click="editJob(job)">
                                            Edit
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br/>
                            <br/>
                        </div>
                        <br/>
                        <br/>
                    </div>

                    <div class="row" ng-repeat="job in jobsList" class="panelRow">
                        <div class="col-md-12">
                            <div class="panel panel-default jobPanel">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h2 class="panel-title jobPanelTitle">{{job.jobTitle}}</h2>
                                        </div>
                                        <div class="col-md-4">
                                            <a>Compatibility &nbsp;<span class="label label-success compatLabel">{{job.compatibility}}</span></a>
                                        </div>
                                    </div>

                                    <p class="panel-title jobPanelSubTitle">{{job.companyName}}</p>
                                    <div class="row">
                                        <div class="col-md-4">
                                            {{job.location}}
                                        </div>
                                        <div class="col-md-4">
                                            {{job.experience}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <span class="badge" ng-repeat="skill in job.skillsRequired">{{skill.name}}</span>&nbsp;
                                            <!-- <span class="badge">Normal</span>&nbsp;
                                        <span class="badge">Normal</span>&nbsp;-->
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            {{job.description}}
                                        </div>
                                    </div>

                                </div>
                                <div class="panel-body jobPanelFooter">
                                    <div class="row">
                                        <div class="col-xs-2 col-md-4">
                                            Read More
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-click="showInterestJob(job)" ng-show="job.interestShownBySeeker != 'Y' && job.interestShownByPoster != 'Y'">
                                            Show Interest
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-show="job.interestShownBySeeker == 'Y' && job.interestShownByPoster != 'Y'">
                                            Interest Shown
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-click="viewContact(job.postedBy)" ng-show="job.interestShownBySeeker == 'Y' && job.interestShownByPoster == 'Y'">
                                            View Contact
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-click="showInterestJob(job)" ng-show="job.interestShownBySeeker != 'Y' && job.interestShownByPoster == 'Y'">
                                            Accept Request
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br/>
                            <br/>
                        </div>
                        <br/>
                        <br/>
                    </div>

                    <div class="row" ng-repeat="candidate in candidates" class="panelRow">
                        <div class="col-md-12">
                            <div class="panel panel-default jobPanel">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h2 class="panel-title jobPanelTitle">{{candidate.name}}</h2>
                                        </div>
                                        <div class="col-md-4">
                                            <!--<a>Matching &nbsp; <span class="label label-success compatLabel">{{job.matchingCandidates.length}}</span></a>-->
                                        </div>
                                        <div class="col-md-4">
                                            <a>Compatibility &nbsp;<span class="label label-success compatLabel">{{candidate.compatibility}}</span></a>
                                        </div>
                                    </div>

                                    <p class="panel-title jobPanelSubTitle">{{candidate.designation}}</p>
                                    <div class="row">
                                        <div class="col-md-4">
                                            {{candiate.company}}
                                        </div>
                                        <div class="col-md-4">
                                            {{candidate.experience}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <span class="badge" ng-repeat="skill in candidate.jobSkills">{{skill.name}}</span>&nbsp;
                                            <!-- <span class="badge">Normal</span>&nbsp;
                                        <span class="badge">Normal</span>&nbsp;-->
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            {{candidate.description}}
                                        </div>
                                    </div>

                                </div>
                                <div class="panel-body jobPanelFooter">
                                    <div class="row">
                                        <div class="col-xs-2 col-md-4">
                                            Read More
                                        </div>
                                        <div class="col-xs-2 col-md-4" ng-click="showInterestCandidate(candidate)">
                                            Show Interest
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br/>
                            <br/>
                        </div>
                        <br/>
                        <br/>
                    </div>


                    <div class="row" ng-repeat="candidate in myCandidates" class="panelRow">
                        <div class="col-md-12">
                            <div class="panel panel-default jobPanel">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h2 class="panel-title jobPanelTitle">{{candidate.name}}</h2>
                                        </div>
                                        <div class="col-md-4">
                                            <!--<a>Matching &nbsp; <span class="label label-success compatLabel">{{job.matchingCandidates.length}}</span></a>-->
                                        </div>
                                        <div class="col-md-4">
                                            <a>Compatibility &nbsp;<span class="label label-success compatLabel">{{candidate.compatibility}}</span></a>
                                        </div>
                                    </div>

                                    <p class="panel-title jobPanelSubTitle">{{candidate.designation}}</p>
                                    <div class="row">
                                        <div class="col-md-4">
                                            {{candiate.company}}
                                        </div>
                                        <div class="col-md-4">
                                            {{candidate.experience}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <span class="badge" ng-repeat="skill in candidate.jobSkills">{{skill.name}}</span>&nbsp;
                                            <!-- <span class="badge">Normal</span>&nbsp;
                                        <span class="badge">Normal</span>&nbsp;-->
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            {{candidate.description}}
                                        </div>
                                    </div>

                                </div>
                                <div class="panel-body jobPanelFooter">
                                    <div class="row">
                                        <div class="col-xs-2 col-md-4">
                                            Read More
                                        </div>
                                        <div class="col-xs-2 col-md-4">
                                            <span ng-show="candidate.seekerInterested != 'Y' && candidate.posterInterested == 'Y' ">Interest shown</span>
                                            <span ng-show="candidate.seekerInterested == 'Y' && candidate.posterInterested != 'Y' " ng-click="acceptInterestCandidate(candidate)">Accept Interest</span>
                                            <span ng-show="candidate.seekerInterested == 'Y' && candidate.posterInterested == 'Y'" ng-click="viewContact(candidate)">View Contact</span>

                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br/>
                            <br/>
                        </div>
                        <br/>
                        <br/>
                    </div>

                </div>
            </div>
        </div>






        <!--</div>-->


        <div class="modal" id="showInterestModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">Send Interest</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to send interest to this profile? ({{interestedProfile.name}})</p>
                        <p ng-show="showInterestResponse != null">{{showInterestResponse}}</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="wipe()">Close</button>
                        <button type="button" class="btn btn-success" ng-click="showInterest()" ng-show="showInterestResponse == null">Send</button>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal" id="applyJobModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">Apply</h4>
                    </div>
                    <div class="modal-body">
                        <p ng-show="applyJobResponse == null">Are you sure you want to apply for this profile? ({{interestedJob.companyName}})</p>
                        <p ng-show="applyJobResponse != null">{{applyJobResponse}}</p>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="wipe()">Close</button>
                        <button type="button" class="btn btn-success" ng-click="applyJob()" ng-show="applyJobResponse == null">Apply</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="acceptedCandidateModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">Contact Details</h4>
                    </div>
                    <div class="modal-body">
                        <p>{{acceptedCandidate.email}}</p>
                        <p>{{acceptedCandidate.phone}}</p>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script type="text/javascript">
        function toggle() {
            //alert("asd");
            if ($(window).width() < 768) {
                //alert($(window).width());
                $("#demo").removeClass("in");
                $(".listSpan").addClass("glyphicon glyphicon-plus");
            } else {
                $("#demo").addClass("in");
                $(".listSpan").removeClass("glyphicon glyphicon-plus");
            }
        }

        $(window).resize(function () {
            //alert("Resized!");
            toggle();
        });

        toggle();

        $(".list-group-item").click(function () {
            //alert(this);
            if ($(this).hasClass("listMain")) {
                $(".listSpan").toggleClass("glyphicon glyphicon-plus");
                $(".listSpan").toggleClass("glyphicon glyphicon-minus");
                return;
            }
            $('.list-group-item').each(function (i, obj) {
                $(obj).removeClass("active");
            });
            $(this).addClass("active");
        });
    </script>




</body>

</html>